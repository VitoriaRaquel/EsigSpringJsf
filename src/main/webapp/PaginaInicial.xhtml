<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>

</h:head>

<h:body>
	<div style="width: 550px; height: 800; margin: 0 auto 0 auto;">
		<p:graphicImage library="imagens" name="esig.png" width="500px"
			heigth="100px" />
		<h:form id="form">
			<p:panelGrid columns="2" style="heigth:100px; width:500px; ">


				<p:inputText id="descricao" placeholder="O que precisa ser feito?"
					value="#{registroController.registro.descricao}" 
					style="margin-left:10px;width:300px; heigth: 110px;" />

				<p:commandButton value=" Add " action="#{registroController.insert}"
					update="form" style="margin-left:5px; width:80px;" />

			</p:panelGrid>

			<p:dataTable value="#{registroController.listaRegistro}" var="obj"
				style="width:500px">
				<p:column style="width:22px">

					<p:commandLink action="#{registroController.updateStatus(obj)}"
						update="form">
						<h:panelGroup rendered="#{obj.status eq false}">
							<img src="resources/imagens/aberto_icon.png"
								onmouseover="this.src='resources/imagens/ok_circle_icon.png'"
								onmouseout="this.src='resources/imagens/aberto_icon.png'" />
						</h:panelGroup>
						<h:panelGroup rendered="#{obj.status eq true}">
							<img src="resources/imagens/ok_circle_icon.png" />
						</h:panelGroup>
					</p:commandLink>
				</p:column>

				<p:column style="width:200px">
					<p:outputLabel value="#{obj.descricao}" />
				</p:column>


				<p:column style="width:40px">
					<p:commandLink action="#{registroController.deleteById(obj.id)}"
						update="form">
						<img src="resources/imagens/lixeira.png" />
					</p:commandLink>
				</p:column>
			</p:dataTable>


			<p:toolbar style="width:500px;">

				<f:facet name="left">
					<div id="testeSize" style="font-size: 12px;">
						<h:outputText id="display"
							value="#{registroController.numberStatusCompleted} item left"
							style="margin-right:40px;margin-left:5px;" update="form" />
						<p:commandButton value="All" action="#{registroController.init}"
							style="margin-right:10px;" update="form" />
						<p:commandButton value="Active"
							action="#{registroController.changeListActive}"
							style="margin-right:10px;" update="form" />
						<p:commandButton value="Completed"
							action="#{registroController.changeListCompleted}"
							style="margin-right:25px;" update="form" />
						<p:commandButton value="Clear completed"
							binding="#{registroController.buttonDeleteAll}"
							action="#{registroController.deleteAllStatusCompleted}"
							update="form" style="margin-left:5px;" />
					</div>
				</f:facet>

			</p:toolbar>

		</h:form>
	</div>
</h:body>


</html>